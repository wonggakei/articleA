import{r as u,u as v,o as V,c as k,b as a,d as e,f as E,b_ as U,E as x}from"./index-Ch0PFggD.js";import{E as y,a as w}from"./el-form-item-BOetYh97.js";import{E as B}from"./_plugin-vue_export-helper-CYoE2H90.js";import{E as F}from"./el-input-BpUJgNVC.js";import{_ as I}from"./PageContainer-CvvbfId-.js";import"./el-message-5wlsNQNl.js";import"./use-form-item-5aSpviNI.js";import"./event-HEVJa2N9.js";import"./_initCloneObject-B41mKixo.js";const D={__name:"UserProfile",setup(S){const s=u(),{user:{email:n,id:i,nickname:p,username:d},getUser:_}=v(),l=u({id:i,username:d,nickname:p,email:n}),f=u({nickname:[{required:!0,message:"请输入用户昵称",trigger:"blur"},{pattern:/^\S{2,10}/,message:"昵称长度在2-10个非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]}),c=async()=>{await s.value.validate(),await U(l.value),_(),x.success("修改成功")};return(q,t)=>{const m=F,r=y,g=B,b=w;return V(),k(I,{title:"基本资料"},{default:a(()=>[e(b,{ref_key:"formRef",ref:s,model:l.value,rules:f.value,"label-width":"100px"},{default:a(()=>[e(r,{label:"登录名称"},{default:a(()=>[e(m,{modelValue:l.value.username,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:a(()=>[e(m,{modelValue:l.value.nickname,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:a(()=>[e(m,{modelValue:l.value.email,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:a(()=>[e(g,{type:"primary",onClick:c},{default:a(()=>[E("提交修改")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}}};export{D as default};
