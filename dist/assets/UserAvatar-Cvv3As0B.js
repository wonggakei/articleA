import{_ as y}from"./PageContainer-VMBM8pAF.js";import{u as E,r as _,o as r,c as i,b as a,d as s,z as S,e as c,f as d,bO as w,E as h,C as b,aP as f,bP as x,p as A,k as B,g as I}from"./index-BMndYN70.js";import{_ as C,E as R}from"./_plugin-vue_export-helper-We4xikRx.js";import{E as z}from"./el-progress-CcNSoeaL.js";import"./el-message-s2GeAGoB.js";import"./use-form-item-C5t_Pfx2.js";import"./isEqual-D4bm5CBj.js";import"./_initCloneObject-MoN7jMH1.js";const N=t=>(A("data-v-55292731"),t=t(),B(),t),V=["src"],F=N(()=>I("br",null,null,-1)),P={__name:"UserAvatar",setup(t){const l=E(),o=_(l.user.user_pic),n=_(),m=p=>{const e=new FileReader;e.readAsDataURL(p.raw),e.onload=()=>{o.value=e.result}},v=async()=>{await w(o.value),await l.getUser(),h.success("头像更新成功")};return(p,e)=>{const g=b,k=z,u=R,U=y;return r(),i(U,{title:"更换头像"},{default:a(()=>[s(k,{ref_key:"uploadRef",ref:n,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":m},{default:a(()=>[o.value?(r(),S("img",{key:0,src:o.value,class:"avatar"},null,8,V)):(r(),i(g,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(c(f))]),_:1}))]),_:1},512),F,s(u,{onClick:e[0]||(e[0]=$=>n.value.$el.querySelector("input").click()),type:"primary",icon:c(f),size:"large"},{default:a(()=>[d("选择图片")]),_:1},8,["icon"]),s(u,{onClick:v,type:"success",icon:c(x),size:"large"},{default:a(()=>[d("上传头像")]),_:1},8,["icon"])]),_:1})}}},H=C(P,[["__scopeId","data-v-55292731"]]);export{H as default};
