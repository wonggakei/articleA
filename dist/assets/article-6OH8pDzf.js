import{r as k,a9 as E,aW as V,ax as N,v as P,aX as G,aa as b,b as O,ab as z,d as D,ac as R,T as j,a7 as C,aB as Z,Z as w,G as A,aY as p,a6 as L,ai as I,aZ as Y,a_ as q,a$ as u}from"./index-BMndYN70.js";function F(e){let t;const a=k(!1),s=E({...e,originalPosition:"",originalOverflow:"",visible:!1});function o(l){s.text=l}function n(){const l=s.parent,r=v.ns;if(!l.vLoadingAddClassList){let c=l.getAttribute("loading-number");c=Number.parseInt(c)-1,c?l.setAttribute("loading-number",c.toString()):(C(l,r.bm("parent","relative")),l.removeAttribute("loading-number")),C(l,r.bm("parent","hidden"))}i(),g.unmount()}function i(){var l,r;(r=(l=v.$el)==null?void 0:l.parentNode)==null||r.removeChild(v.$el)}function f(){var l;e.beforeClose&&!e.beforeClose()||(a.value=!0,clearTimeout(t),t=window.setTimeout(m,400),s.visible=!1,(l=e.closed)==null||l.call(e))}function m(){if(!a.value)return;const l=s.parent;a.value=!1,l.vLoadingAddClassList=void 0,n()}const d=P({name:"ElLoading",setup(l,{expose:r}){const{ns:c,zIndex:$}=G("loading");return r({ns:c,zIndex:$}),()=>{const h=s.spinner||s.svg,B=b("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...h?{innerHTML:h}:{}},[b("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),T=s.text?b("p",{class:c.b("text")},[s.text]):void 0;return b(j,{name:c.b("fade"),onAfterLeave:m},{default:O(()=>[z(D("div",{style:{backgroundColor:s.background||""},class:[c.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[b("div",{class:c.b("spinner")},[B,T])]),[[R,s.visible]])])})}}}),g=V(d),v=g.mount(document.createElement("div"));return{...N(s),setText:o,removeElLoadingChild:i,close:f,handleAfterLeave:m,vm:v,get $el(){return v.$el}}}let y;const H=function(e={}){if(!Z)return;const t=K(e);if(t.fullscreen&&y)return y;const a=F({...t,closed:()=>{var o;(o=t.closed)==null||o.call(t),t.fullscreen&&(y=void 0)}});M(t,t.parent,a),S(t,t.parent,a),t.parent.vLoadingAddClassList=()=>S(t,t.parent,a);let s=t.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",t.parent.setAttribute("loading-number",s),t.parent.appendChild(a.$el),w(()=>a.visible.value=t.visible),t.fullscreen&&(y=a),a},K=e=>{var t,a,s,o;let n;return A(e.target)?n=(t=document.querySelector(e.target))!=null?t:document.body:n=e.target||document.body,{parent:n===document.body||e.body?document.body:n,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:n===document.body&&((a=e.fullscreen)!=null?a:!0),lock:(s=e.lock)!=null?s:!1,customClass:e.customClass||"",visible:(o=e.visible)!=null?o:!0,target:n}},M=async(e,t,a)=>{const{nextZIndex:s}=a.vm.zIndex||a.vm._.exposed.zIndex,o={};if(e.fullscreen)a.originalPosition.value=p(document.body,"position"),a.originalOverflow.value=p(document.body,"overflow"),o.zIndex=s();else if(e.parent===document.body){a.originalPosition.value=p(document.body,"position"),await w();for(const n of["top","left"]){const i=n==="top"?"scrollTop":"scrollLeft";o[n]=`${e.target.getBoundingClientRect()[n]+document.body[i]+document.documentElement[i]-Number.parseInt(p(document.body,`margin-${n}`),10)}px`}for(const n of["height","width"])o[n]=`${e.target.getBoundingClientRect()[n]}px`}else a.originalPosition.value=p(t,"position");for(const[n,i]of Object.entries(o))a.$el.style[n]=i},S=(e,t,a)=>{const s=a.vm.ns||a.vm._.exposed.ns;["absolute","fixed","sticky"].includes(a.originalPosition.value)?C(t,s.bm("parent","relative")):L(t,s.bm("parent","relative")),e.fullscreen&&e.lock?L(t,s.bm("parent","hidden")):C(t,s.bm("parent","hidden"))},x=Symbol("ElLoading"),_=(e,t)=>{var a,s,o,n;const i=t.instance,f=l=>I(t.value)?t.value[l]:void 0,m=l=>{const r=A(l)&&(i==null?void 0:i[l])||l;return r&&k(r)},d=l=>m(f(l)||e.getAttribute(`element-loading-${q(l)}`)),g=(a=f("fullscreen"))!=null?a:t.modifiers.fullscreen,v={text:d("text"),svg:d("svg"),svgViewBox:d("svgViewBox"),spinner:d("spinner"),background:d("background"),customClass:d("customClass"),fullscreen:g,target:(s=f("target"))!=null?s:g?void 0:e,body:(o=f("body"))!=null?o:t.modifiers.body,lock:(n=f("lock"))!=null?n:t.modifiers.lock};e[x]={options:v,instance:H(v)}},W=(e,t)=>{for(const a of Object.keys(t))Y(t[a])&&(t[a].value=e[a])},J={mounted(e,t){t.value&&_(e,t)},updated(e,t){const a=e[x];t.oldValue!==t.value&&(t.value&&!t.oldValue?_(e,t):t.value&&t.oldValue?I(t.value)&&W(t.value,a.options):a==null||a.instance.close())},unmounted(e){var t;(t=e[x])==null||t.instance.close(),e[x]=null}},Q=()=>u.get("/my/cate/list"),U=e=>u.post("/my/cate/add",e),ee=e=>u.put("/my/cate/info",e),te=e=>u.delete("/my/cate/del",{params:{id:e}}),ae=e=>u.get("/my/article/list",{params:e}),se=e=>u.get("/my/article/info",{params:{id:e}}),le=e=>u.post("/my/article/add",e),ne=e=>u.delete("/my/article/info",{params:{id:e}}),oe=e=>u.put("my/article/info",e);export{Q as a,oe as b,le as c,se as d,ae as e,ne as f,ee as g,U as h,te as i,J as v};
